<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Fri Oct 17 18:20:17 JST 2003 -->
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<TITLE>
KDDI Profile Javadoc: パッケージ com.kddi.graphics
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概要</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>パッケージ</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">クラス</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    &nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>非推奨 API</B></FONT></A>&nbsp;</TD> 
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"><B>フレームあり</B></A>  &nbsp;    
&nbsp;<A HREF="package-summary.html" TARGET="_top"><B>フレームなし</B></A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<H2>
パッケージ com.kddi.graphics    
</H2>
画像データに関する機能を提供します。


<P>
<B>参照: </B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>説明</B></A>
<P>

<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>インタフェースの概要</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ExtensionGraphics.html"><I>ExtensionGraphics</I></A></B></TD>
<TD>標準の描画機能を拡張するためのインタフェースです。
 </TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>クラスの概要</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ImageEncoder.html">ImageEncoder</A></B></TD>
<TD>イメージを JPEG 形式でエンコードして byte 型配列のデータに変換します。    

 </TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
パッケージ com.kddi.graphics の説明    
</H2>

<P>
画像データに関する機能を提供します。

<a name="section_graphics_extention"><h3>描画機能の拡張</h3></a>
<p>
データフォルダに保存されている画像データやカメラ撮影した画像データなどは MIDP の javax.microedition.lcdui.Image クラス、javax.microedition.lcdui.Graphics クラスなどの機能を使用して加工編集することができます。    
<p>
このパッケージの <A HREF="../../../com/kddi/graphics/ExtensionGraphics.html"><CODE>ExtensionGraphics</CODE></A> インタフェースでは、Graphics クラスで提供されている描画機能を拡張した機能を提供します。    
</p>

<a name="section_graphics_encode"><h3>画像データのエンコード</h3></a>
<p>
データフォルダに保存されている画像データやカメラ撮影した画像データなどは、通常はエンコードされたデータです。このエンコードされた画像データから Image オブジェクトを作成すると画像データはデコードされます。そのため、編集後のデータを保存する際に再度エンコードする必要があります。    
</p><p>
このパッケージの <A HREF="../../../com/kddi/graphics/ImageEncoder.html"><CODE>ImageEncoder</CODE></A> クラスでは、画像データをエンコードする機能を提供します。    
</p>
<a name="section_graphics_encode"><h3>画像データ取得から保存までの手順</h3></a>
<p>
画像データの取得から加工編集を経て保存するまでの操作手順の概略を以下で説明します。
<ol>
 <li>画像データの取得
  <p>以下に示す方法によって画像データを取得します。</p>
  <ul>
   <li> カメラ撮影によるフォト画像データの取得
	<p><A HREF="../../../com/kddi/io/PhotoConnection.html"><CODE>PhotoConnection</CODE></A> クラスの <A HREF="../../../com/kddi/io/CameraConnection.html#capture(boolean)"><CODE>capture(true)</CODE></A> により、カメラを起動し、 <A HREF="../../../com/kddi/camera/PhotoContent.html"><CODE>PhotoContent</CODE></A> クラスの <A HREF="../../../com/kddi/camera/CameraContent.html#getData()"><CODE>getData()</CODE></A> メソッドでフォト画像データを取得します。</p>    
   </ul>
 <li> immutable な Image オブジェクトの作成     
	<p> 画像データを加工編集するには mutable な Image オブジェクトを作成する必要があります。byte 型配列の画像データから直接 mutable な Image オブジェクトを作成できないので、まず immutable な Image オブジェクトを作成します。createImage(byte[] imageData, int imageOffset, int imageLength) メソッドを使用します。</p>    
 <li> mutable な Image オブジェクトの作成    
	<p> 2.で作成した immutable な Image オブジェクトから画像イメージのサイズを取得できます。このサイズを元に createImage(int width, int height) メソッドで mutable な Image オブジェクトを新規に作成します。</p>    
	<p> 作成した mutable な Image オブジェクトにはまだ画像データが設定されていません。getGraphics() メソッドにより Graphics オブジェクトを取得し、drawImage() に immutable な Image を指定して mutable な Image に画像データを書き込みます。</p>    
 <li> 画像データの加工編集<br>
	<p> 3.で作成した mutable な Image オブジェクトに対して画像の加工や編集を行います。</p>    
 <li> エンコード<br>
	<p> このパッケージが提供する <A HREF="../../../com/kddi/graphics/ImageEncoder.html"><CODE>ImageEncoder</CODE></A> クラスの <A HREF="../../../com/kddi/graphics/ImageEncoder.html#encode(javax.microedition.lcdui.Image, int, int, int, int)"><CODE>encode()</CODE></A> で加工編集した後の画像データをエンコードして byte型配列 を生成します。</p>    
 <li> 保存  
	<p>HTTP通信機能を利用してサーバに加工画像データを送信するなどができます。</p>  
</ol>
<p>
カメラ撮影に関する詳細については <A HREF="../../../com/kddi/io/CameraConnection.html"><CODE>CameraConnection</CODE></A> クラスの説明を、撮影した画像データを取得する方法に関する詳細については <A HREF="../../../com/kddi/camera/package-summary.html">com.kddi.camera</A> パッケージの説明をそれぞれ参照してください。    
</p><p>
データフォルダアクセスによる画像データの読み込み・書き込みに関する詳細については <A HREF="../../../com/kddi/io/DataFolderConnection.html"><CODE>DataFolderConnection</CODE></A> クラスの説明を参照してください。    
</p>
<h3>画像データ取得から保存までの例</h3>
<p>
カメラを起動して撮影したフォト画像を取得し、加工、エンコードする例を以下に示します。
</p>
<blockquote>
<pre><code>
// 1. カメラ撮影したフォト画像データを取得する

  PhotoContent photo = null;
  try{
    // カメラを起動しフォト撮影をする
    PhotoConnection conn = ( PhotoConnection ) Connector.open(&quot;photo:&quot;);
    photo = ( PhotoContent ) conn.capture(true);
    conn.close();
  }
  catch(IOException e){
    // 例外発生時のエラー処理
  }
  // フォト画像データの取得
  byte[] data = photo.getData();


// 2. immutableなImageオブジェクトの作成

  Image immutable = Image.createImage( data, 0, data.length );


// 3. mutableなImageオブジェクトの作成
 
  // 空の mutable な Image オブジェクトの作成
  int w = immutable.getWidth();
  int h = immutable.getHeight();
  Image mutable = Image.createImage( w, h );

  // mutable オブジェクトからGraphics オブジェクトを取得
  Gpahics g = mutable.getGraphics();

  // Graphics オブジェクトに immutable イメージのデータを描画
  g.drawImage( immutable );


// 4. 画像データの加工編集

  // Graphics クラスの機能を利用して画像データを加工する
  ...
 
  // ExtensionGraphics クラスの機能を利用して画像データを加工する
  ExtensionGraphics eg = (ExtensionGraphics) g;
  ...


// 5. エンコード

  // ImageEncoder オブジェクトの作成
  ImageEncoder ie = new ImageEncoder();

  // 画像のエンコード
  byte[] encodeData = ie.encode( mutable );

</code></pre>
</blockquote>


<DL>
<DT><B>関連項目 </B>
<DD>javax.microedition.lcdui.Image,javax.microedition.lcdui.Graphics  
<DD>カメラ制御 ： <A HREF="../../../com/kddi/io/PhotoConnection.html"><CODE>PhotoConnection</CODE></A>    
<DD>カメラ撮影データ取得 ： <A HREF="../../../com/kddi/camera/PhotoContent.html"><CODE>PhotoContent</CODE></A>    
</DL>
<P>
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概要</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>パッケージ</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">クラス</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    &nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>非推奨 API</B></FONT></A>&nbsp;</TD> 
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"><B>フレームあり</B></A>  &nbsp;  
&nbsp;<A HREF="package-summary.html" TARGET="_top"><B>フレームなし</B></A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
Copyright 2003 Aplix Corporation. All rights reserved.  Aplix Confidential and Restricted.    
</BODY>
</HTML>
